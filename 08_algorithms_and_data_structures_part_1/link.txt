https://stackoverflow.com/questions/49826332/simple-task-runner-in-javascript-with-waiting